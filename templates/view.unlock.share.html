{{ template "layout.header.html" . }}



<div id="future">
    <br>
    id : {{ .Id }}
    <br>
    pwd: {{ .Password }}
    <br>

    <form action="/share/unlock" method="post">
        <label for="sharePassword">Password</label>
        <input id="sharePassword" type="password" />
<!--         
        <br>
        <br>

        <input type="submit" value="unlock" /> -->
    </form>


    <button onclick="press()">unlock</button>

    <div id="error"></div>

</div>



<script>	
    function press(){


        future = document.getElementById('future')                              // Element that will be replaced with the content of the share
        error = document.getElementById('error')                                // Element to display error like wrong passwords
        givenPassword = document.getElementById('sharePassword').value          // Password given by the user


        // If the given password correspond to the password of the share
        if (givenPassword === '{{ .Password }}') {
            data = document.createElement('div')
            data.innerHTML= '{{ .Id }}';
            future.replaceWith(data)

        // Of display error in case of wrong password
        } else {
            data = document.createElement('div')
            data.setAttribute("id", "error");                                   // Set the ID to always replace the same element with the error

            data.innerHTML= 'wrong password';
            error.replaceWith(data);

        }

        
    };



    

</script>

{{ template "layout.footer.html" . }}